# UndefinifiedGrove

Grove .sc files cured from the 3master plague. Posted for educational purposes.

## How to browse between versions

This repo has versions commitied on top of each other in chronological order, so that you could easily see the changes each version provided.

The shipped versions were marked by tags which you could browse:
- **ps2_1.03**
- **pc_1.00**
- **xbox_1.00**
- **pc_2.00** (3master was based on this version)
- **ps2_2.01** / **xbox_2.01**
- **ps2_jp_2011** (yes, 2011 version is earlier than 2007)
- **ps2_jp_2007**

Branches:

Sometime during the development of PC and Xbox ports, the sc files were split into two branches - one for PC only and one for consoles (shared for PS2 and Xbox), and later console version brached out again for JP release (despite their attmept to make it uniform too). This repo mimics that branching and creates certain in-between version commits to point out which changes were shared or pulled from parallel branch (in case of pc).

- **master** - checked out on PC 1.00 since this is the most popular version
- **pc** - checked out on PC 2.00 release
- **console** - checked out on post-release of Second Edition featuring some fixes that were exclusive to Japanese version
- **console_jp** - checked out on 2007 Japanese release

## How to compile

You need to get sc.exe from 3master and then patch the 3master plague out of it. Also you need some extra files for sc.exe to work properly.
To patch sc.exe, put it in `patch` directory and launch **xdelta3.bat**. Then take sc.exe back to `data` directory and take these files from `patch` directory too: `AudioEvents_PS2.txt`, `AudioEvents_PC.txt`, `AudioEvents_XBOX.txt`, `HID_Base.h`, `TouchInterface_SA.h`.

Notes and pro tips:
- Changing target platform via command line is possible only for PC. To pick different platform you must launch sc.exe, pick it in Target, and then close it. The target platform will be saved in a registry key. Then you can compile sc with command line, the platform you chose will be saved
- I don't know what Xbox 360 target does. Since it's a plague leftover I just ignore it and so should you.
- Compiled OG files always had debug lines converted to UPPERCASE, however plagued sc.exe doesn't do that and leaves case as is. I decided not to bother patching that for now, since it's a benign side effect.
- `AudioEvents_PC.txt` and `AudioEvents_XBOX.txt` are both the same and it's just `AudioEvents.txt` from PC version
- `AudioEvents_PS2.txt` was autogenerated via looking for a match with sound parameters from PC version. The IDs are correct with those sounds used in sc, however there's no guarantee of those unused being correct.
- In Japanese version `AudioEvents_PS2.txt` becomes the same as `AudioEvents_PC.txt`/`AudioEvents_XBOX.txt`

## Changelog

<details>
<summary>

#### **2023/10/15**

</summary>

- reverted KATIE back to SUZIE
- restored some coordinates that became inaccurate due to precision loss
- restored some original comments
- removed more 3master comments 

</details>
<details>
<summary>

#### **2022/07/04**

</summary>

- syn2.sc changes moved from `[PC] REV 4: fixes` to `[CONSOLE] REV 3: fixes`
- fixed Sh_range.sc in `REV 2: pre PC fixes`
- cosmetic edits to Sh_range.sc, pool.sc, gymthread.sc and zero2.sc to improve visualisation of changes
- removed declarations of a local variables from 3master in valet.sc, casino_ambience.sc, casino1.sc, sweet1b.sc, beatdisplay.sc

</details>
<details>
<summary>

#### **2022/07/03**

</summary>

- restored text for mission/cutscene selector in debug.sc that was removed by the 3master plague

</details>
<details>
<summary>

#### **2022/07/02**

</summary>

- removed plague leftovers from debug.sc
- `text_pos_x` renamed into `otb_text_pos_x` in otb.sc to be compatible with debug.sc (note: this local variable was deleted in 3master, so its original name is unknown)
- renamed several used unknown global variables that were removed in 3master
- taken `HID_Base.h` and `TouchInterface_SA.h` from Wesser

</details>
<details><summary>

#### **2022/06/30**

</summary>

- original release

</details>
